<div class="btn-close-container">
	<button class="btn-close" type="button" mat-mini-fab color="" (click)="closeDialog()" [disabled]="disabledBtn" title="Đóng">
		<mat-icon>clear</mat-icon>
	</button>
</div>
<div class="kt-portlet" [ngClass]="{ 'kt-portlet--body-progress kt-portlet--body-progress-overlay' : viewLoading }">
	<div class="kt-portlet__head kt-portlet__head__custom">

		<div class="col-md-{{isZoomSize ? '9' : '7'}} kt-margin-bottom-10-mobile"
			 style="margin-top: 20px;">
			<h3 class="kt-portlet__head-title">Vai trò người dùng</h3>
		</div>
		<div class="col-md-{{isZoomSize ? '3' : '5'}} kt-margin-bottom-10-mobile" style="margin-top: 10px; text-align: right;">
			<!--<button style="padding: 0px 10px;" type="button" color="accent" mat-raised-button (click)="resizeDialog()">
				{{isZoomSize ? 'Thu nhỏ' : 'Phóng to'}}
			</button>-->
		</div>
	</div>
	<div class="kt-portlet__body">
		<div class="kt-portlet__body-progress">
			<mat-spinner [diameter]="20"></mat-spinner>
		</div>
		<div class="mat-table__wrapper" style="overflow-x:auto">
			<table mat-table [dataSource]="ListVaiTro" width="100%">

				<ng-container matColumnDef="STT">
					<th mat-header-cell *matHeaderCellDef class="stt-cell"> STT </th>
					<td mat-cell *matCellDef="let element;let i=index" class="stt-cell"> {{i+1}} </td>
				</ng-container>

				<!-- Name Column -->
				<!--<ng-container matColumnDef="DonVi">
					<th mat-header-cell *matHeaderCellDef> Đơn vị </th>
					<td mat-cell *matCellDef="let element">
						<button mat-icon-button matSuffix (click)="chonDV(element)" color="primary" matTooltip="Chọn đơn vị" style="margin-right: 5px;">
							<mat-icon>supervisor_account</mat-icon>
						</button> {{element.TenDonVi}}
					</td>
				</ng-container>-->

				<!-- Weight Column -->
				<ng-container matColumnDef="VaiTro">
					<th mat-header-cell *matHeaderCellDef> Vai trò </th>
					<td mat-cell *matCellDef="let element">
						<button mat-icon-button matSuffix (click)="chonVT(element)" color="primary" matTooltip="Chọn vai trò" style="margin-right: 5px;">
							<mat-icon>supervisor_account</mat-icon>
						</button> {{element.GroupName}}
					</td>
				</ng-container>

				<!-- Symbol Column -->
				<!--<ng-container matColumnDef="NguoiKy">
					<th mat-header-cell *matHeaderCellDef> Là người ký </th>
					<td mat-cell *matCellDef="let element">
						<mat-checkbox [(ngModel)]="element.NguoiKy"></mat-checkbox>
					</td>
				</ng-container>
				<ng-container matColumnDef="XuLyViec">
					<th mat-header-cell *matHeaderCellDef> Xử lý việc đơn vị </th>
					<td mat-cell *matCellDef="let element">
						<mat-checkbox [(ngModel)]="element.XuLyViec"></mat-checkbox>
					</td>
				</ng-container>
				<ng-container matColumnDef="LanhDao">
					<th mat-header-cell *matHeaderCellDef> Là lãnh đạo </th>
					<td mat-cell *matCellDef="let element">
						<mat-checkbox [(ngModel)]="element.LanhDao"></mat-checkbox>
					</td>
				</ng-container>
				<ng-container matColumnDef="NhanVanBan">
					<th mat-header-cell *matHeaderCellDef> Nhận văn bản đơn vị </th>
					<td mat-cell *matCellDef="let element">
						<mat-checkbox [(ngModel)]="element.NhanVanBan"></mat-checkbox>
					</td>
				</ng-container>-->
				<ng-container matColumnDef="actions">
					<th mat-header-cell *matHeaderCellDef>
						Thao tác
					</th>
					<td mat-cell *matCellDef="let element" style="white-space: nowrap; text-align:left">
						<ng-container *ngIf="rR.r25 && element.IdRow>0">
							<button type="button" (click)="lock(element,false)" mat-icon-button color="primary" matTooltip="Mở khóa" *ngIf="element.Locked">
								<mat-icon>lock_open</mat-icon>
							</button>
							<!--User đang đăng nhập không được tự khóa, xóa tài khoản-->
							<button type="button" (click)="lock(element)" mat-icon-button color="warn" matTooltip="Khóa" *ngIf="!element.Locked" [disabled]="disabledBtn">
								<mat-icon>lock</mat-icon>
							</button>&nbsp;
							<button type="button" (click)="update(element)" mat-icon-button color="primary" matTooltip="Lưu cập nhật" [disabled]="disabledBtn">
								<mat-icon>create</mat-icon>
							</button>&nbsp;
							<!--User đang đăng nhập không được tự khóa, xóa tài khoản-->
							<button mat-icon-button color="warn" type="button" (click)="delete(element)" matTooltip="Xóa vai trò" [disabled]="disabledBtn">
								<mat-icon>delete</mat-icon>
							</button>
						</ng-container>
						<ng-container *ngIf="rR.r25 && element.IdRow==0">
							<button type="button" (click)="update(element)" mat-icon-button color="primary" matTooltip="Lưu vai trò" [disabled]="disabledBtn">
								<mat-icon>add</mat-icon>
							</button>
						</ng-container>
					</td>
				</ng-container>

				<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
				<tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
			</table>
		</div>
	</div>
</div>
